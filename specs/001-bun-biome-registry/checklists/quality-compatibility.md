# Quality & Compatibility Checklist: Bun/Biome Shadcn Registry

**Purpose**: 面向质量门禁与下游兼容性的需求完备性/清晰度检查  
**Created**: 2025-12-06  
**Feature**: [/specs/001-bun-biome-registry/spec.md](/specs/001-bun-biome-registry/spec.md)

**Note**: This checklist is generated by the `/speckit.checklist` command based on feature context and requirements.

## Requirement Completeness

- [x] CHK001 是否明确单条安装命令覆盖全部 workspace 且给出 ≤2s 目标与适用环境？[Completeness, Spec §FR-001, SC-001]
- [x] CHK002 是否定义文档站预览入口、支持的组件路径及 HMR 预期？[Completeness, Spec §FR-002]
- [x] CHK003 是否完整列出保存时 Biome 自动格式化与禁用项（console.log/unused/any）？[Completeness, Spec §FR-003]
- [x] CHK004 是否规定提交/CI 阶段的 Biome 校验与阻断策略及失败提示？[Completeness, Spec §FR-004]
- [x] CHK005 是否枚举 registry 构建输入目录（ui/magic/blocks）与输出 public/registry/*.json 的必需字段？[Completeness, Spec §FR-005]
- [x] CHK006 是否写明构建耗时 <1s 目标及失败时不写入/回滚的行为？[Completeness, Spec §FR-006, SC-002]
- [x] CHK007 是否覆盖 npm/pnpm/bun 三类 Copy Command 的生成、展示与成功标准？[Completeness, Spec §FR-007, SC-004, SC-005]
- [x] CHK008 是否定义 CDN/边缘托管的 URL 结构与与文档中指令的对齐方式？[Completeness, Spec §FR-008]
- [x] CHK009 是否要求记录安装/lint/构建的耗时并用于性能验证？[Completeness, Spec §FR-009, SC-003]

## Requirement Clarity

- [x] CHK010 性能阈值（安装 ≤2s、构建 <1s、lint <200ms）是否标明测量方法与基线机器？[Clarity, Spec §SC-001–SC-003, Assumptions]
- [x] CHK011 Biome 规则的适用范围（保存、提交、CI）及禁止项是否无歧义描述？[Clarity, Spec §FR-003, FR-004]
- [x] CHK012 Registry 必需字段、schema 版本与校验规则（required keys、enum、type、default、version 字段）是否清晰列出并给出示例？[Clarity, Spec §FR-005, Contracts/openapi.yaml]
- [x] CHK013 Copy Command 是否明确参数占位（组件 ID、registry URL）与默认路径？[Clarity, Spec §FR-007]
- [x] CHK014 CDN/缓存策略（URL 版本化、缓存 TTL/etag、失效流程、区域覆盖）是否与文档展示一致且量化？[Clarity, Spec §FR-008]

## Requirement Consistency

- [x] CHK015 保存、提交、CI 的质量门禁规则与阈值是否一致且无冲突？[Consistency, Spec §FR-003, FR-004]
- [x] CHK016 脚本/命令命名（dev、build:registry、check、preview）在 spec/plan/tasks 间是否保持一致并避免同义词混用？[Consistency, Tasks §T012, §T022, Plan §Summary]
- [x] CHK017 Registry schema 与 contracts/openapi.yaml、spec 描述是否保持一致且无重复定义，并声明单一真源？[Consistency, Spec §FR-005, Contracts/openapi.yaml]

## Acceptance Criteria Quality

- [x] CHK018 验收场景是否具备可测量的通过条件（耗时、输出、可用性）并映射到 US1？[Acceptance Criteria, Spec §User Story 1]
- [x] CHK019 Schema 违规/缺字段时的阻断与错误指引是否在验收标准中量化？[Acceptance Criteria, Spec §User Story 2, FR-005, FR-006]
- [x] CHK020 npm/pnpm/bun 三类 Copy Command 的成功率与可执行性是否量化到验收标准？[Acceptance Criteria, Spec §User Story 3, SC-004, SC-005]

## Scenario Coverage

- [x] CHK021 缺失/不合法组件元数据的处理（阻断、定位、消息）是否覆盖？[Coverage, Spec §User Story 2 Acceptance, Edge Cases §63]
- [x] CHK022 下游包管理器差异与指令复制交互（mismatch 提示）是否覆盖？[Coverage, Spec §FR-007, Edge Cases §65]
- [x] CHK023 预览/构建失败时的恢复与可观测性（命令退出码、可读日志、重试/清缓存指引、CI artifact）是否描述？[Coverage, Gap]

## Edge Case Coverage

- [x] CHK024 Bun/Biome 版本过低或未安装的检测与修复步骤是否记录？[Edge Case, Spec §Edge Cases §61]
- [x] CHK025 Husky 被跳过或钩子失败时，CI 阻断与提示是否规定？[Edge Case, Spec §Edge Cases §62, FR-004]
- [x] CHK026 Registry 规模增大时的分批/并行策略与性能告警是否描述？[Edge Case, Spec §Edge Cases §64, Tasks §T023a]
- [x] CHK027 包管理器命令不匹配或不受支持时的 fallback/提示是否定义？[Edge Case, Spec §Edge Cases §65]

## Non-Functional Requirements

- [x] CHK028 是否要求对超出性能阈值的操作记录 Telemetry（事件名/字段/采样率）并触发告警或失败策略？[Non-Functional, Spec §FR-009, SC-001–SC-003]
- [x] CHK029 CDN 可用性/延迟或缓存失效要求（SLA、p95/p99、回源或退化路径）是否量化并与 Copy Command 指令保持一致？[Non-Functional, Spec §FR-008]

## Dependencies & Assumptions

- [x] CHK030 Shadcn schema 版本、tailwind 配置与 registryDependencies/npmDependencies 最小/推荐版本是否在需求中声明？[Dependency, Spec §FR-005, Assumptions]
- [x] CHK031 性能基准所依赖的硬件/网络假设（CPU/内存/磁盘/带宽/地理位置）是否明确记录？[Assumption, Spec §Assumptions §90]
- [x] CHK032 CDN/托管依赖（提供方、路径、鉴权、缓存层）及失败时的备选方案（降级/回源/本地镜像）是否写明？[Dependency, Spec §Assumptions §91–§92, FR-008]

## Ambiguities & Conflicts

- [x] CHK033 “基线环境”定义（CPU/内存/磁盘/网络/OS）是否足够具体以支撑性能指标？[Ambiguity, Spec §Assumptions §90]
- [x] CHK034 “目标时间”“实时”是否给出量化范围与测量方式以避免歧义？[Ambiguity, Spec §FR-002, SC-001–SC-003]
- [x] CHK035 FR/SC 与 tasks/验收场景之间的追踪关系是否建立（ID/映射表，便于覆盖率追踪）？[Traceability, Gap]

## Compatibility & Migration

- [x] CHK036 是否覆盖跨平台基线（macOS/Windows/Alpine/ARM）与最小系统要求，并在验收中验证安装/预览/构建关键命令？[Non-Functional, Gap]
- [x] CHK037 包管理器版本范围与锁定策略（npm/pnpm/bun/corepack pin），以及 CI/模板中的固化方式是否声明？[Dependency, Gap]
- [x] CHK038 Registry schema 的版本递增、兼容/迁移策略（deprecation、向后兼容窗口、变更日志、升级指南）是否定义？[Consistency, Gap]
